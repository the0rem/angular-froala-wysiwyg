{"version":3,"file":"angular-froala-wysiwyg.umd.js","sources":["ng://angular-froala-wysiwyg/editor/editor.directive.ts","ng://angular-froala-wysiwyg/editor/editor.module.ts","ng://angular-froala-wysiwyg/view/view.directive.ts","ng://angular-froala-wysiwyg/view/view.module.ts","ng://angular-froala-wysiwyg/fe-root.module.ts"],"sourcesContent":["import { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { Directive, ElementRef, EventEmitter, forwardRef, Input, NgZone, Output } from '@angular/core';\n\nimport FroalaEditor from 'froala-editor';\n\n@Directive({\n  selector: '[froalaEditor]',\n  exportAs: 'froalaEditor',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => FroalaEditorDirective),\n      multi: true\n    }\n  ]\n})\nexport class FroalaEditorDirective implements ControlValueAccessor {\n\n  // editor options\n  private _opts: any = {\n    immediateAngularModelUpdate: false,\n    angularIgnoreAttrs: null\n  };\n\n  private _element: any;\n\n  private SPECIAL_TAGS: string[] = ['img', 'button', 'input', 'a'];\n  private INNER_HTML_ATTR: string = 'innerHTML';\n  private _hasSpecialTag: boolean = false;\n\n  // editor element\n  private _editor: any;\n\n  // initial editor content\n  private _model: string;\n\n  private _editorInitialized: boolean = false;\n\n  private _oldModel: string = null;\n\n  private initializeOverridden = false;\n\n  constructor(el: ElementRef, private zone: NgZone) {\n\n    let element: any = el.nativeElement;\n\n    // check if the element is a special tag\n    if (this.SPECIAL_TAGS.indexOf(element.tagName.toLowerCase()) != -1) {\n      this._hasSpecialTag = true;\n    }\n    this._element = element;\n\n    this.zone = zone;\n  }\n\n  // Begin ControlValueAccesor methods.\n  onChange = (_) => {\n  };\n  onTouched = () => {\n  };\n\n  // Form model content changed.\n  writeValue(content: any): void {\n    this.updateEditor(content);\n  }\n\n  registerOnChange(fn: (_: any) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  // End ControlValueAccesor methods.\n\n  // froalaEditor directive as input: store the editor options\n  @Input() set froalaEditor(opts: any) {\n    this._opts = opts || this._opts;\n  }\n\n  // froalaModel directive as input: store initial editor content\n  @Input() set froalaModel(content: any) {\n    this.updateEditor(content);\n  }\n\n  // Update editor with model contents.\n  private updateEditor(content: any) {\n    if (JSON.stringify(this._oldModel) == JSON.stringify(content)) {\n      return;\n    }\n\n    if (!this._hasSpecialTag) {\n      this._oldModel = content;\n    } else {\n      this._model = content;\n    }\n\n    if (this._editorInitialized) {\n      if (!this._hasSpecialTag) {\n        this._editor.html.set(content);\n      } else {\n        this.setContent();\n      }\n    } else {\n      if (!this._hasSpecialTag) {\n        this._element.innerHTML = content || '';\n      } else {\n        this.setContent();\n      }\n    }\n  }\n\n  // froalaModel directive as output: update model if editor contentChanged\n  @Output() froalaModelChange: EventEmitter<any> = new EventEmitter<any>();\n\n  // froalaInit directive as output: send manual editor initialization\n  @Output() froalaInit: EventEmitter<Object> = new EventEmitter<Object>();\n\n  // update model if editor contentChanged\n  private updateModel() {\n    this.zone.run(() => {\n\n      let modelContent: any = null;\n\n      if (this._hasSpecialTag) {\n        const attrs = this._element.attributes.reduce((result, attr) => {\n          if (this._opts.angularIgnoreAttrs && this._opts.angularIgnoreAttrs.indexOf(attr.name) !== -1) {\n            return result;\n          }\n          return Object.assign(result, {\n            [attr.name]: attr.value\n          });\n        }, {});\n\n        if (this._element.innerHTML) {\n          attrs[this.INNER_HTML_ATTR] = this._element.innerHTML;\n        }\n\n        modelContent = attrs;\n      } else {\n\n        let returnedHtml: any = this._editor.html.get();\n        if (typeof returnedHtml === 'string') {\n          modelContent = returnedHtml;\n        }\n      }\n      if (this._oldModel !== modelContent) {\n        this._oldModel = modelContent;\n\n        // Update froalaModel.\n        this.froalaModelChange.emit(modelContent);\n\n        // Update form model.\n        this.onChange(modelContent);\n      }\n\n    })\n  }\n\n  private registerEvent(eventName, callback) {\n    if (!eventName || !callback) {\n      return;\n    }\n\n    if (!this._opts.events) {\n      this._opts.events = {};\n    }\n\n    this._opts.events[eventName] = callback;\n  }\n\n  private initListeners() {\n    let self = this;\n    // Check if we have events on the editor.\n    if (this._editor.events) {\n      // bind contentChange and keyup event to froalaModel\n      this._editor.events.on('contentChanged', function () {\n        setTimeout(function () {\n          self.updateModel();\n        }, 0);\n      });\n      this._editor.events.on('mousedown', function () {\n        setTimeout(function () {\n          self.onTouched();\n        }, 0);\n      });\n\n      if (this._opts.immediateAngularModelUpdate) {\n        this._editor.events.on('keyup', function () {\n          setTimeout(function () {\n            self.updateModel();\n          }, 0);\n        });\n      }\n    }\n\n    this._editorInitialized = true;\n  }\n\n  private createEditor() {\n    if (this._editorInitialized) {\n      return;\n    }\n\n    this.setContent(true);\n\n    // init editor\n    this.zone.runOutsideAngular(() => {\n      // Add listeners on initialized event.\n      if (!this._opts.events) this._opts.events = {};\n\n      // Register initialized event.\n      this.registerEvent('initialized', this._opts.events && this._opts.events.initialized);\n      const existingInitCallback = this._opts.events.initialized;\n      // Default initialized event.\n      if (!this._opts.events.initialized || !this.initializeOverridden) {\n        this._opts.events.initialized = () => {\n          this.initListeners();\n          existingInitCallback && existingInitCallback.call(this._editor, this);\n        };\n        this.initializeOverridden = true;\n      }\n\n      // Initialize the Froala Editor.\n      this._editor = new FroalaEditor(\n        this._element,\n        this._opts\n      );\n    });\n  }\n\n  private setHtml() {\n    this._editor.html.set(this._model || \"\");\n\n    // This will reset the undo stack everytime the model changes externally. Can we fix this?\n    this._editor.undo.reset();\n    this._editor.undo.saveStep();\n  }\n\n  private setContent(firstTime = false) {\n    let self = this;\n\n    // Set initial content\n    if (this._model || this._model == '') {\n      this._oldModel = this._model;\n      if (this._hasSpecialTag) {\n\n        let tags: Object = this._model;\n\n        // add tags on element\n        if (tags) {\n\n          for (let attr in tags) {\n            if (tags.hasOwnProperty(attr) && attr != this.INNER_HTML_ATTR) {\n              this._element.setAttribute(attr, tags[attr]);\n            }\n          }\n\n          if (tags.hasOwnProperty(this.INNER_HTML_ATTR)) {\n            this._element.innerHTML = tags[this.INNER_HTML_ATTR];\n          }\n        }\n      } else {\n        if (firstTime) {\n          this.registerEvent('initialized', function () {\n            self.setHtml();\n          });\n        } else {\n          self.setHtml();\n        }\n      }\n    }\n  }\n\n  private destroyEditor() {\n    if (this._editorInitialized) {\n      this._editor.destroy();\n      this._editorInitialized = false;\n    }\n  }\n\n  private getEditor() {\n    if (this._element) {\n      return this._editor;\n    }\n\n    return null;\n  }\n\n  // send manual editor initialization\n  private generateManualController() {\n    let controls = {\n      initialize: this.createEditor.bind(this),\n      destroy: this.destroyEditor.bind(this),\n      getEditor: this.getEditor.bind(this),\n    };\n    this.froalaInit.emit(controls);\n  }\n\n  // TODO not sure if ngOnInit is executed after @inputs\n  ngAfterViewInit() {\n    // check if output froalaInit is present. Maybe observers is private and should not be used?? TODO how to better test that an output directive is present.\n    if (!this.froalaInit.observers.length) {\n      this.createEditor();\n    } else {\n      this.generateManualController();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyEditor();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { FroalaEditorDirective } from './editor.directive';\n\n@NgModule({\n  declarations: [FroalaEditorDirective],\n  exports: [FroalaEditorDirective]\n})\n\nexport class FroalaEditorModule {\n  public static forRoot(): ModuleWithProviders {\n    return {ngModule: FroalaEditorModule, providers: []};\n  }\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[froalaView]'\n})\nexport class FroalaViewDirective {\n\n  private _element: HTMLElement;\n  private _content: any;\n\n  constructor(private renderer: Renderer2, element: ElementRef) {\n    this._element = element.nativeElement;\n  }\n\n  // update content model as it comes\n  @Input() set froalaView(content: string) {\n    this._element.innerHTML = content;\n  }\n\n  ngAfterViewInit() {\n    this.renderer.addClass(this._element, \"fr-view\");\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { FroalaViewDirective } from './view.directive';\n\n@NgModule({\n  declarations: [FroalaViewDirective],\n  exports: [FroalaViewDirective]\n})\nexport class FroalaViewModule {\n  public static forRoot(): ModuleWithProviders {\n    return {ngModule: FroalaViewModule, providers: []};\n  }\n}\n","import { FroalaEditorModule } from './editor/editor.module';\nimport { FroalaViewModule } from './view/view.module';\nimport { NgModule } from '@angular/core';\n\nconst MODULES = [\n  FroalaEditorModule,\n  FroalaViewModule\n]\n\n@NgModule({\n  imports: [\n    FroalaEditorModule.forRoot(),\n    FroalaViewModule.forRoot()\n  ],\n  exports: MODULES\n})\nexport class FERootModule {}\n"],"names":["EventEmitter","Directive","NG_VALUE_ACCESSOR","forwardRef","ElementRef","NgZone","Input","Output","NgModule","Renderer2"],"mappings":"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"}